üìù PRD: Sistema de Gest√£o e Ado√ß√£o ‚Äì Toca dos Peludos
1. Objetivo e Vis√£o
Facilitar o encontro entre animais resgatados e adotantes respons√°veis, centralizando o invent√°rio da ONG e automatizando o fluxo de interesse em ado√ß√£o.
Problema: Processo de ado√ß√£o descentralizado e dificuldade em manter o status dos animais atualizado.
Meta: Reduzir o tempo de resposta aos interessados e dar visibilidade aos animais,a ONG e facilitar a inscri√ß√£o de novos volunt√°rios e den√∫ncias de maus tratos an√¥nimas.
2. Personas (P√∫blico-Alvo)
Adotante: Pessoa f√≠sica que busca um pet e quer filtrar por caracter√≠sticas (porte, idade, temperamento,ra√ßa).
Administrador da ONG: Volunt√°rio que cadastra animais, atualiza fotos e gerencia os pedidos de ado√ß√£o.
3. Requisitos Funcionais (O "O que fazer")
ID
Funcionalidade
Descri√ß√£o
RF01
Cadastro de Animais
O admin deve cadastrar fotos, nome, idade estimada, porte,ra√ßa,cor e hist√≥rico m√©dico.
RF02
Filtros de Busca
O usu√°rio deve filtrar por Esp√©cie (C√£o/Gato), Porte,ra√ßa e Sexo.
RF03
Formul√°rio de Interesse
O adotante envia dados de contato vinculados a um animal espec√≠fico.
RF04
Dashboard Admin
Visualiza√ß√£o de quantos animais est√£o dispon√≠veis vs. adotados, formul√°rios de volunt√°rios e den√∫ncias an√¥nimas.

4. Requisitos N√£o Funcionais (O "Como deve ser")
Performance: A listagem de animais deve carregar em menos de 2 segundos (importante para o SEO e reten√ß√£o).
Disponibilidade: O sistema deve ser responsivo (funcionar bem em celulares).
Seguran√ßa: Dados dos adotantes (LGPD) devem ser armazenados de forma segura na API.
5. Fora de Escopo (O que n√£o faremos agora)
Pagamento de doa√ß√µes via cart√£o de cr√©dito (ser√° apenas exibido o PIX da ONG).
Chat em tempo real (o contato inicial ser√° via formul√°rio/WhatsApp).
6. Crit√©rios de Aceite
Um animal cadastrado deve aparecer imediatamente na lista p√∫blica.
O formul√°rio de interesse n√£o pode ser enviado sem um e-mail v√°lido.
Apenas usu√°rios autenticados (Admin) podem deletar registros de animais.

7.Estrutura do Banco Postgresql SQL
-- Tabela de Animais (RF01)
CREATE TABLE pets (
    id BIGINT PRIMARY KEY AUTO_INCREMENT,
    nome VARCHAR(100) NOT NULL,
    especie ENUM('CACHORRO', 'GATO') NOT NULL,
    porte ENUM('PEQUENO', 'MEDIO', 'GRANDE') NOT NULL,
    sexo ENUM('MACHO', 'FEMEA') NOT NULL,
    idade_estimada INT, -- Em meses ou anos
    descricao TEXT,
    status ENUM('DISPONIVEL', 'ADOTADO', 'EM_PROCESSO') DEFAULT 'DISPONIVEL',
    url_foto VARCHAR(255),
    data_cadastro TIMESTAMP DEFAULT CURRENT_TIMESTAMP
);

-- Tabela de Interessados/Ado√ß√µes (RF03)
CREATE TABLE solicitacoes_adocao (
    id BIGINT PRIMARY KEY AUTO_INCREMENT,
    pet_id BIGINT,
    nome_interessado VARCHAR(150) NOT NULL,
    email VARCHAR(100) NOT NULL,
    whatsapp VARCHAR(20),
    mensagem TEXT,
    data_solicitacao TIMESTAMP DEFAULT CURRENT_TIMESTAMP,
    FOREIGN KEY (pet_id) REFERENCES pets(id)
);

8. Design da API (Endpoints)
Baseado nos Requisitos Funcionais (RF) do PRD, estes seriam os principais recursos da sua API Spring Boot:
P√∫blico (Adotantes)
GET /api/v1/pets: Lista todos os animais.
Filtros (Query Params): ?especie=GATO&porte=PEQUENO
GET /api/v1/pets/{id}: Detalhes de um animal espec√≠fico.
POST /api/v1/adocoes: Envia o formul√°rio de interesse (corpo JSON com pet_id e dados do adotante).
Administrativo (ONG)
POST /api/v1/admin/pets: Cadastra um novo animal.
PUT /api/v1/admin/pets/{id}: Atualiza dados ou status (ex: mudar para "ADOTADO").
GET /api/v1/admin/solicitacoes: Lista todas as pessoas que mostraram interesse.





 9. Stack Tecnol√≥gica (Arquitetura)
Para este projeto, optamos por uma arquitetura desacoplada (Client-Server), permitindo que o backend sirva apenas dados via JSON para o frontend.
Camada
Tecnologia
Papel no Projeto
Backend
Java 25+ / Spring Boot
Gest√£o de regras de neg√≥cio, persist√™ncia no banco e seguran√ßa (Spring Security).
Frontend
HTML5, CSS3, JavaScript (ES6+)
Interface do usu√°rio responsiva e consumo da API via fetch() ou Axios.
Banco de Dados
MySQL / PostgreSQL
Armazenamento de dados dos animais e formul√°rios de ado√ß√£o.
Comunica√ß√£o
REST API (JSON)
Formato de troca de dados entre o navegador e o servidor.

A API dever√° ser documentada utilizando Swagger/OpenAPI, permitindo que o frontend visualize os endpoints dispon√≠veis de forma interativa.

Seguran√ßa √© um dos pilares mais importantes de um PRD, especialmente quando voc√™ lida com dados de adotantes (nome, telefone, e-mail) e acesso administrativo para gerenciar os animais. No seu projeto Toca dos Peludos, a seguran√ßa deve ser dividida em duas frentes: Autentica√ß√£o (quem voc√™ √©) e Autoriza√ß√£o (o que voc√™ pode fazer).
Aqui est√° como voc√™ deve adicionar a se√ß√£o de Seguran√ßa no seu PRD:

 10. Requisitos de Seguran√ßa e Privacidade
Para garantir a integridade dos dados da ONG e a privacidade dos usu√°rios, o sistema seguir√° os seguintes protocolos:
10.1. Controle de Acesso (RBAC - Role Based Access Control)
O sistema ter√° dois n√≠veis de permiss√£o distintos:
ROLE_USER (P√∫blico): Pode apenas visualizar pets e enviar formul√°rios de interesse. N√£o precisa de login.
ROLE_ADMIN (ONG): Requer login e senha para cadastrar, editar ou excluir pets, al√©m de visualizar a lista de interessados.
10.2. Prote√ß√£o da API (Spring Security)
Como voc√™ est√° usando Spring Boot, a implementa√ß√£o deve focar em:
JWT (JSON Web Token): Para manter a sess√£o do administrador no frontend (HTML/JS) de forma segura sem usar cookies tradicionais que s√£o vulner√°veis a CSRF.
CORS (Cross-Origin Resource Sharing): Configurar o backend para aceitar requisi√ß√µes apenas do dom√≠nio onde seu frontend est√° hospedado.
BCrypt: As senhas dos administradores nunca devem ser salvas em texto plano no banco de dados; devem ser criptografadas com BCryptPasswordEncoder.
10.3. Privacidade de Dados (LGPD)
Minimiza√ß√£o: Coletar apenas o necess√°rio no formul√°rio de interesse (Nome, E-mail, WhatsApp).
Consentimento: Adicionar um checkbox de "Aceito os termos de privacidade" no formul√°rio de contato.

11. Identidade Visual (UI Guidelines)
A interface deve ser limpa e amig√°vel, utilizando uma paleta que remeta √† natureza e ao cuidado animal.
11.1. Paleta de Cores Sugerida
Categoria
Cor (Hex)
Uso Sugerido
Sensa√ß√£o
Prim√°ria
#4CAF50 (Verde)
Bot√µes de "Adotar", √çcones de Sa√∫de.
Esperan√ßa, Natureza, Vitalidade.
Secund√°ria
#FF9800 (Laranja)
Chamadas de aten√ß√£o, selos de "Urgente".
Energia, Alegria, Amizade.
Destaque
#2196F3 (Azul)
Links, informa√ß√µes de contato, selos de vacina√ß√£o.
Confian√ßa, Higiene, Tranquilidade.
Fundo
#F5F5F5 (Cinza Claro)
Cor de fundo das p√°ginas para n√£o cansar a vista.
Limpeza, Organiza√ß√£o.
Texto
#333333 (Grafite)
Textos principais e par√°grafos.
Leitura confort√°vel.

11.2. Tipografia
T√≠tulos: Fonte Sans-serif arredondada (ex: Quicksand ou Montserrat). Fontes arredondadas transmitem mais amabilidade.
Corpo: Fonte Sans-serif padr√£o (ex: Roboto ou Open Sans) para garantir legibilidade no mobile.
 
11.3. Layout Atual
Topo com barra amarela e logo √† esquerda, bot√£o de doa√ß√£o em azul.
Banner de her√≥i com imagem de pets e texto sobreposto.
Grade de duas a√ß√µes com √≠cones e links r√°pidos.
Se√ß√£o de depoimentos com fundo amarelo e cart√£o branco.
Se√ß√£o de doa√ß√µes com fundo roxo e bot√µes amarelos.
Listagem de pets e formul√°rio de interesse abaixo, responsivos.
 
11.4. Paleta de Cores Atualizada
Prim√°ria: #FFCC00 (Amarelo) ‚Äì barra superior, destaques e banners.
Secund√°ria: #6A1B9A (Roxo) ‚Äì se√ß√£o de doa√ß√£o e cart√µes de a√ß√£o.
Destaque: #2196F3 (Azul) ‚Äì links e bot√µes de a√ß√£o.
Fundo: #F5F5F5 (Cinza Claro) ‚Äì fundo neutro.
Texto: #333333 (Grafite) ‚Äì textos principais.
150‚Üí
151‚Üí12. Decis√µes de Implementa√ß√£o ‚Äì v0.1
152‚ÜíBackend: Spring Boot 3.3, Java 21 (compat√≠vel com 25). Maven. JWT com jjwt.
153‚ÜíBanco: PostgreSQL padr√£o, vari√°veis de ambiente DB_URL, DB_USERNAME, DB_PASSWORD. H2 somente para testes locais.
154‚ÜíSeguran√ßa: Admin em mem√≥ria com BCrypt (ADMIN_USERNAME, ADMIN_PASSWORD). JWT Bearer com expira√ß√£o configur√°vel (JWT_SECRET, JWT_EXPIRATION_SECONDS). CORS restringido ao frontend.
155‚ÜíDocumenta√ß√£o: Swagger/OpenAPI acess√≠vel em /swagger-ui.html.
156‚ÜíFrontend: HTML/CSS/JS responsivo com paleta definida. Consome API via fetch.
157‚Üí
158‚Üí12.1. Endpoints Implementados
159‚ÜíP√∫blico
160‚ÜíGET /api/v1/pets
161‚ÜíGET /api/v1/pets/{id}
162‚ÜíPOST /api/v1/adocoes (valida e-mail e consentimento no frontend)
163‚ÜíAutentica√ß√£o
164‚ÜíPOST /api/v1/auth/login (retorna JWT)
165‚ÜíAdministrativo
166‚ÜíPOST /api/v1/admin/pets
167‚ÜíPUT /api/v1/admin/pets/{id}
168‚ÜíGET /api/v1/admin/solicitacoes
169‚Üí
170‚Üí12.2. Crit√©rios de Aceite ‚Äì Implementa√ß√£o
171‚ÜíCadastro de animal aparece na listagem p√∫blica imediatamente ap√≥s cria√ß√£o.
172‚ÜíFormul√°rio no frontend exige e-mail v√°lido e consentimento LGPD antes de enviar.
173‚ÜíAcesso admin protegido por JWT. Exclus√£o de animais limitada a admin (a implementar).
174‚Üí
175‚Üí12.3. Considera√ß√µes de Banco
176‚ÜíEnums persistidos como texto (Especie, Porte, Sexo, StatusPet).
177‚ÜíMigra√ß√µes poder√£o ser adicionadas via Flyway em vers√£o futura.
178‚Üí
179‚Üí12.4. CORS e Ambientes
180‚Üícors.allowed-origins: http://localhost:8081, http://127.0.0.1:8081.
181‚Üíserver.port: 8080 por padr√£o.
182‚Üí
183‚Üí12.5. Pr√≥ximos Passos
184‚ÜíDashboard Admin com m√©tricas RF04.
185‚ÜíFluxo de volunt√°rios e den√∫ncias an√¥nimas.
186‚ÜíAutentica√ß√£o de usu√°rios reais via banco (em vez de usu√°rio em mem√≥ria).

